define("new/js/mod/uc_incharge",["new/css/layer.css","$","layer","new/js/mod/util/lang","new/js/mod/util/radio","new/js/mod/util/minLength"],function(e){e("new/css/layer.css");var n=e("$"),i=e("layer"),o=e("new/js/mod/util/lang").lang;e("new/js/mod/util/radio");var c=e("new/js/mod/util/minLength").minLength,t=0;n("#u_incharge :radio").click(function(){if("34"==n(this).val())t=0,n("#Recharge_channels").hide();else if("35"==n(this).val())t=1,n("#Recharge_channels").show();else if("36"!=n(this).val())return!1}),n("#r_money").keypress(function(e){var n=window.event?e.keyCode:e.which;return"13"==n.toString()?!1:void 0}),n("#r_money").blur(function(){n(this).val(""==n(this).val()||isNaN(n(this).val())?"":parseFloat(n(this).val()).toFixed(2))}),n("#incharge_done").click(function(){if(""==n("#r_money").val()||isNaN(n("#r_money").val())||!(n("#r_money").val()>0))return i.tips("请输入正确的充值金额","#r_money",{tips:1}),n("#r_money").focus(),!1;if(null==n(':radio[name="u_incharge_mode"]:checked').val())return i.alert("请选择支付方式",{title:"提示",icon:5,closeBtn:0},function(){i.closeAll()}),!1;if(1==t&&0==n("#u_incharge_channel").val())return i.tips("请选择充值渠道","#u_incharge_channel",{tips:1}),n("#u_incharge_channel").focus(),!1;if(!n("#PayAgreement").is(":checked"))return i.tips("请确认已阅读并同意《支付协议》","#PayAgreement",{tips:1}),n("#PayAgreement").focus(),!1;i.load(1);var e=new Object;e.user_id=n("#user_id").val(),e.pTrdAmt=n("#r_money").val(),e.incharge_mode=n(':checked[name="u_incharge_mode"]:checked').val(),e.incharge_channel=n("#u_incharge_channel").val(),n.ajax({url:"/index.php?ctl=uc_money&act=DoDpTrade",data:e,dataType:"json",type:"post",async:!0,success:function(e){i.closeAll("loading"),1==e.status&&(n("#i_jump").html(e.info),i.open({type:1,area:["500px","190px"],title:"请在新打开的网银页面完成充值",content:n(".incharge_fback")}),n("#i_jump").html(""))},error:function(){i.closeAll("loading"),i.alert(o.REQUEST_DATA_FAILED,{title:"错误",icon:2,closeBtn:0})}})}),n("#C_incharge_fback").live("click",function(){i.closeAll()}),n("#Submit_V_phoneCode").click(function(){var e=parseInt(n("#incharge_V_phoneCode").val());if(""==e)return i.tips(o.EMPTY_PHONE_CODE,"#incharge_V_phoneCode",{tips:1}),n("#incharge_V_phoneCode").focus(),!1;if(!c(e,6,!1))return i.tips(o.ERROR_PHONE_CODE,"#incharge_V_phoneCode",{tips:1}),n("#incharge_V_phoneCode").focus(),!1;i.load(1);var t=new Object;t.phoneCode=e,t.Bill_Number=n("#Bill_Number").val(),n.ajax({url:"/index.php?ctl=charge&act=chongzhi_kj_two_ceshi",data:t,dataType:"json",type:"post",async:!0,success:function(e){i.closeAll("loading"),e.status?i.alert(e.info,{icon:6,title:"成功",closeBtn:0},function(){window.location.href=e.jump}):i.alert(e.info,{icon:2,title:"错误",closeBtn:0},function(){window.location.href=e.jump})},error:function(){i.closeAll("loading"),i.alert(o.REQUEST_DATA_FAILED,{title:"错误",icon:2,closeBtn:0})}})}),n("#protocol_risk").click(function(){i.open({type:1,area:["800px","650px"],title:"支付协议",content:n(".protocol_con")})}),n(".protocol_con .closebtn a").live("click",function(){i.closeAll()})});