define("new/js/mod/settingpaypsw",["new/css/layer.css","$","layer","new/js/mod/util/get_verify_code","new/js/mod/util/ResetsendPhoneCode","new/js/mod/util/FW_Password","new/js/mod/util/minLength","new/js/mod/util/lang"],function(e){e("new/css/layer.css");var s=e("$"),t=e("layer"),a=e("new/js/mod/util/get_verify_code").get_verify_code,o=e("new/js/mod/util/ResetsendPhoneCode").ResetsendPhoneCode,i=e("new/js/mod/util/FW_Password").FW_Password,n=e("new/js/mod/util/minLength").minLength,d=e("new/js/mod/util/lang").lang;s(document).ready(function(){s("#reveiveActiveCode").click(function(){var e=s.trim(s("#Verifycode").val());return 0==e.length?(t.tips(d.EMPTY_PIC_CODE,"#Verifycode",{tips:1}),s("#Verifycode").focus(),!1):n(e,4,!1)?void(s(this).hasClass("btn_disable")||(s(this).addClass("btn_disable"),a(s(this),"#J_Vphone_0","/index.php?ctl=ajax&act=send_phone_verifycode_four",function(){o(s(this),60)},e))):(t.tips(d.ERROR_PIC_CODE,"#Verifycode",{tips:1}),s("#Verifycode").focus(),!1)}),s("#sub_btn_settimepaypsw").click(function(){if(""==s.trim(s("#validateCode_0").val()))return t.tips(d.EMPTY_PHONE_CODE,"#validateCode_0",{tips:1}),s("#validateCode_0").focus(),!1;if(s.trim(s("#validateCode_0").val()).length<6)return t.tips(d.ERROR_PHONE_CODE,"#validateCode_0",{tips:1}),s("#validateCode_0").focus(),!1;var e=s.trim(s("#J_Vpaypassword").val()),a=/^[a-zA-z0-9]{6,}$/,o=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;if(0==e.length)return t.tips(d.EMPTY_NEW_PAY_PWD,"#J_Vpaypassword"),s("#J_Vpaypassword").focus(),!1;if(!a.test(e))return t.tips(d.ERROR_PWD,"#J_Vpaypassword"),s("#J_Vpaypassword").focus(),!1;if(!o.test(e))return t.tips(d.ERROR_PWD,"#J_Vpaypassword"),s("#J_Vpaypassword").focus(),!1;if(s.trim(s("#J_Vpaypassword").val())!=s.trim(s("#J_Vrpaypassword").val()))return t.tips(d.NOTSAME_PWD,"#J_Vrpaypassword",{tips:1}),s("#J_Vrpaypassword").focus(),!1;t.load(1);var n=new Object;return n.ctl="ajax",n.act="check_paypwd_verify_code",paypassword=s("#J_Vpaypassword").val(),n.paypassword=i(paypassword,s("#LOGIN_KEY").val()),n.verify=s("#validateCode_0").val(),n.ajax=1,s.ajax({url:"/index.php",data:n,type:"post",dataType:"json",success:function(e){t.closeAll("loading"),e.status?t.alert(e.info,{title:"成功",icon:6,closeBtn:0},function(){t.closeAll(),window.location.href="/index.php?ctl=uc_account&act=security"}):t.alert(e.info,{title:"提示",icon:5,closeBtn:0},function(){t.closeAll()})},error:function(){t.closeAll("loading"),t.alert(d.REQUEST_DATA_FAILED,{title:"错误",icon:2,closeBtn:0},function(){t.closeAll()})}}),!1})})});