define("new/js/page/page_login",["new/css/layer.css","$","layer","new/js/mod/util/FW_Password","new/js/mod/util/verify","new/js/mod/util/minLength","new/js/mod/util/lang"],function(e){function n(){var e=i.trim(i("#user_name").val());if(0==e.length)return o.tips(l.EMPTY_PHONE,"#user_name"),i("#user_name").focus(),!1;if(!r(e))return o.tips(l.ERROR_PHONE,"#user_name"),i("#user_name").focus(),!1;var n=(i.trim(i("#login_pwd").val()),i("#isVerifycode").val());if(1==n){var s=i.trim(i("#Verifycode").val());if(0==s.length)return o.tips(l.EMPTY_PIC_CODE,"#Verifycode",{tips:1}),i("#Verifycode").focus(),!1;if(!a(s,4,!1))return o.tips(l.ERROR_PIC_CODE,"#Verifycode",{tips:1}),i("#Verifycode").focus(),!1}i("#Verifycode").blur(),o.load(1);var c=i("#page_login_form").attr("ajax_url"),u=new Object;return u.mobile=i("#user_name").val(),u.user_pwd=t(i("#login_pwd").val(),i("#LOGIN_KEY").val()),1==n&&(u.verify=i("#Verifycode").val()),("checked"==i("#autologin").attr("checked")||1==i("#autologin").attr("checked"))&&(u.auto_login=1),u.ajax=1,i.ajax({url:c,dataType:"json",data:u,type:"POST",success:function(e){o.closeAll("loading"),0==e.status?(i("#Jverify_img").length>0&&i("#Jverify_img").attr("src","/verify.php?w=89&h=44&rand="+Math.random()),o.alert(e.info,{icon:5,title:"提示",closeBtn:0}),i("#Jverify").focus()):1==e.status?(o.closeAll(),o.msg(e.info,{icon:6}),""!=e.jump?window.location.href=e.jump:window.location.reload()):o.confirm(e.info,{icon:3,title:"提示",closeBtn:0},function(){location.href=e.jump1},function(){""!=e.jump1?window.location.href=e.jump:window.location.reload()})},error:function(){o.closeAll("loading"),o.alert(l.REQUEST_DATA_FAILED,{icon:2,title:"错误",closeBtn:0})}}),!1}e("new/css/layer.css");var i=e("$"),o=e("layer"),t=e("new/js/mod/util/FW_Password").FW_Password,r=e("new/js/mod/util/verify").verify_phone,a=e("new/js/mod/util/minLength").minLength,l=e("new/js/mod/util/lang").lang;i("#login_submit").click(function(){n()}),i("#page_login_form").keydown(function(e){13==e.keyCode&&n()})});