define("new/js/page/page_login",["new/css/layer.css","$","layer","new/js/mod/util/FW_Password","new/js/mod/util/verify","new/js/mod/util/minLength","new/js/mod/util/lang"],function(e){function i(){var e=n.trim(n("#user_name").val());if(0==e.length)return o.tips(a.EMPTY_PHONE,"#user_name"),n("#user_name").focus(),!1;if(!r(e))return o.tips(a.ERROR_PHONE,"#user_name"),n("#user_name").focus(),!1;var i=n.trim(n("#login_pwd").val()),s=/^[a-zA-z0-9]{6,}$/,c=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;if(0==i.length)return o.tips(a.EMPTY_PWD,"#login_pwd"),n("#login_pwd").focus(),!1;if(!s.test(i))return o.tips(a.LOGIN_ERROR_PWD,"#login_pwd"),n("#login_pwd").focus(),!1;if(!c.test(i))return o.tips(a.LOGIN_ERROR_PWD,"#login_pwd"),n("#login_pwd").focus(),!1;var u=n("#isVerifycode").val();if(1==u){var f=n.trim(n("#Verifycode").val());if(0==f.length)return o.tips(a.EMPTY_PIC_CODE,"#Verifycode",{tips:1}),n("#Verifycode").focus(),!1;if(!l(f,4,!1))return o.tips(a.ERROR_PIC_CODE,"#Verifycode",{tips:1}),n("#Verifycode").focus(),!1}n("#Verifycode").blur(),o.load(1);var d=n("#page_login_form").attr("ajax_url"),_=new Object;return _.mobile=n("#user_name").val(),_.user_pwd=t(n("#login_pwd").val(),n("#LOGIN_KEY").val()),1==u&&(_.verify=n("#Verifycode").val()),("checked"==n("#autologin").attr("checked")||1==n("#autologin").attr("checked"))&&(_.auto_login=1),_.ajax=1,n.ajax({url:d,dataType:"json",data:_,type:"POST",success:function(e){o.closeAll("loading"),0==e.status?(n("#Jverify_img").length>0&&n("#Jverify_img").attr("src","/verify.php?w=89&h=44&rand="+Math.random()),o.alert(e.info,{icon:5,title:"提示",closeBtn:0}),n("#Jverify").focus()):1==e.status?(o.closeAll(),o.msg(e.info,{icon:6}),""!=e.jump?window.location.href=e.jump:window.location.reload()):o.confirm(e.info,{icon:3,title:"提示",closeBtn:0},function(){location.href=e.jump1},function(){""!=e.jump1?window.location.href=e.jump:window.location.reload()})},error:function(){o.closeAll("loading"),o.alert(a.REQUEST_DATA_FAILED,{icon:2,title:"错误",closeBtn:0})}}),!1}e("new/css/layer.css");var n=e("$"),o=e("layer"),t=e("new/js/mod/util/FW_Password").FW_Password,r=e("new/js/mod/util/verify").verify_phone,l=e("new/js/mod/util/minLength").minLength,a=e("new/js/mod/util/lang").lang;n("#login_submit").click(function(){i()}),n("#page_login_form").keydown(function(e){13==e.keyCode&&i()})});